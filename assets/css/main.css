/* =========================================================
    K-MediSpring Main Styles (Optimized & Layout Stable)
    - Layout stability restored for #banner and grid.
========================================================= */

/* ----------------------------
    Brand & Globals
---------------------------- */
:root{
    --brand: #4E97D1;
    --hover: #2077AD;
    --deep: #0b66c3;
    --line: rgba(210,215,217,.75);
    --sidebar-bg: #f5f5f5;

    /* Fonts (stacks) */
    --en-heading: "Merriweather", Georgia, "Times New Roman", serif;
    --en-body: "Pretendard","Roboto","Open Sans",system-ui,-apple-system,"Segoe UI",Arial,sans-serif;
    --zh-sc: "PingFang SC","Microsoft YaHei","Noto Sans CJK SC","Source Han Sans SC","Heiti SC","SimHei",sans-serif;

    /* Forms */
    --field-pad-y: .72rem;
    --field-pad-x: .9rem;
    --field-radius: 10px;
}

/* ----------------------------
    Font Faces (Consolidated)
---------------------------- */
@font-face{ font-family:'Pretendard'; src:url('../fonts/Pretendard-Regular.ttf') format('truetype'); font-weight:400; font-style:normal; font-display:swap; }
@font-face{ font-family:'Pretendard'; src:url('../fonts/Pretendard-Bold.ttf') format('truetype'); font-weight:700; font-style:normal; font-display:swap; }
@font-face{ font-family:'SourceHanSerifCN'; src:url('../fonts/SourceHanSerifCN-Light.otf') format('opentype'); font-weight:300; font-style:normal; font-display:swap; }
@font-face{ font-family:'SourceHanSerifCN'; src:url('../fonts/SourceHanSerifCN-Medium.otf') format('opentype'); font-weight:500; font-style:normal; font-display:swap; }
@font-face{ font-family:'SourceHanSerifCN'; src:url('../fonts/SourceHanSerifCN-Bold.otf') format('opentype'); font-weight:700; font-style:normal; font-display:swap; }
@font-face{ font-family:"Merriweather"; src:url("../fonts/Merriweather-VariableFont_opsz,wdth,wght.ttf") format("truetype"); font-weight:300 700; font-style:normal; font-display:swap; }
@font-face{ font-family:"Roboto"; src:url("../fonts/Roboto-VariableFont_wdth,wght.ttf") format("truetype"); font-weight:300 700; font-style:normal; font-display:swap; }


/* ----------------------------
    Reset & Base Type (Minimal)
---------------------------- */
html,body,div,span,h1,h2,h3,h4,h5,h6,p,a,em,img,strong,b,i,ol,ul,li,form,label,nav,section{ margin:0; padding:0; border:0; font:inherit; vertical-align:baseline; }
article,aside,details,figcaption,figure,footer,header,nav,section{ display:block; }
body{ line-height:1; -webkit-text-size-adjust:none; -ms-overflow-style:scrollbar; }
ol,ul{ list-style:none; }
html{ box-sizing:border-box; }
*,*:before,*:after{ box-sizing:inherit; }

/* Base Font Sizes */
body{ background:#fff; color:#333; font-family:"Source Han Serif CN","Noto Serif KR",serif; font-size:15pt; line-height:1.8; font-weight:400; }
@media (max-width:1680px){ body{ font-size:11pt; } }
@media (max-width:1280px){ body{ font-size:10pt; } }

/* Headings & Links */
h1,h2,h3,h4,h5,h6{ color:#3d4449; font-family: var(--en-heading), var(--zh-sc); font-weight:700; line-height:1.5; margin:0 0 1em; }
h1{ font-size:4em; line-height:1.3; margin:0 0 .5em; }
h2{ font-size:1.75em; } h3{ font-size:1.25em; }
@media (max-width:736px){ h1{ font-size:2em; line-height:1.4; } h2{ font-size:1.5em; } }
p{ margin:0 0 2em; }
a{ transition: color .2s ease,border-bottom-color .2s ease; color:#1f4e79; text-decoration:none; border-bottom:0; }
a:hover{ color:var(--hover); }
strong,b{ color:#3d4449; font-weight:600; }

/* Readability boost (유지) */
.inner p, .inner li, section p{ font-size:1.15rem; line-height:1.85; color:#222; letter-spacing:.015em; }
@media (max-width:768px){ .inner p, .inner li, section p{ font-size:1.1rem; line-height:1.75; } }


/* ----------------------------
    Grid (Minimal essential for banner)
---------------------------- */
.row {
    display: flex;
    flex-wrap: wrap;
    box-sizing: border-box;
    align-items: stretch;
    margin-left: -1.5em; /* Grid gutter: 1.5em */
}
.row > * {
    box-sizing: border-box;
    padding-left: 1.5em; /* Grid gutter: 1.5em */
}

/* Essential column widths for 50/50 split on desktop */
.row > .col-6 { width: 50%; } 
.row.gtr-uniform { margin-top: -1.5em; }
.row.gtr-uniform > * { padding-top: 1.5em; }

/* Mobile Grid Fallback (736px 이하에서는 100% 너비로 자동 전환되도록 나머지 col-X는 제거) */
@media screen and (max-width: 736px) {
    .row { margin-left: -1rem; }
    .row > * { padding-left: 1rem; width: 100% !important; margin-left: 0 !important; } /* 모든 컬럼을 100%로 전환 */
    .row.gtr-uniform { margin-top: -1rem; }
    .row.gtr-uniform > * { padding-top: 1rem; }
}


/* ----------------------------
    Header, Icons, Buttons, Images (유지)
---------------------------- */
#header{ display:flex; align-items:center; gap:.75rem; border-bottom:5px solid var(--brand)!important; padding:6em 0 1em !important; }
#header .logo{ border-bottom:0; min-width:140px; }
#header .logo img.logo-img{ height:28px; width:auto; display:inline-block; vertical-align:middle; margin-top:-2px; object-fit:contain; }
#header .icons{ display:flex; gap:.75rem; align-items:center; margin-left:.25rem; }
/* ... (Header, Icons, Buttons 나머지 스타일 유지) ... */
.button, .actions .button, a.button{ font-weight:700; font-size:15pt !important; border-radius:10px; padding:.6rem 1.1rem; line-height:1.4em; display:inline-flex; align-items:center; justify-content:center; transition:all .25s ease; box-shadow: inset 0 0 0 2px var(--brand); color: var(--brand) !important; background:transparent; cursor:pointer; }
.button.primary{ background:var(--brand); border-color:var(--brand); color:#fff !important; box-shadow:none; }
.image{ border:0; border-radius:.375em; display:inline-block; position:relative; }
.image img{ display:block; border-radius:.375em; width:100%; }
.image.fit,.image.main{ display:block; width:100%; margin:0 0 2em; }
a.image:hover img{ transform:scale(1.075); }


/* ----------------------------
    Sidebar (ONLY source for OFF-CANVAS)
---------------------------- */
#sidebar{ flex:0 0 auto; background:var(--sidebar-bg); font-size:.9em; position:relative; width:26em; z-index:1; }
#sidebar > .inner{ padding:1.25rem 1rem; width:100%; }
#sidebar > .inner > *{ border-bottom:2px solid var(--line); margin:0 0 3.5em; padding:0 0 3.5em; }
#sidebar > .inner > *:last-child{ border-bottom:0; margin-bottom:0; padding-bottom:0; }
@media (min-width:981px){ #sidebar{ position:sticky; top:2rem; border-radius:8px; } }
/* ... (Mobile Off-Canvas 나머지 스타일 유지) ... */
@media (max-width:980px){
    #sidebar{ position:fixed; top:0; right:-320px; width:320px; height:100vh; transition:right .28s ease; z-index:10000; }
    #sidebar > .inner{ height:100%; overflow-y:auto; background:var(--sidebar-bg); }
    body.is-menu-visible #sidebar{ right:0; }
    /* Toggle button in header (토글 버튼 관련 스타일은 유지) */
    #header .toggle{ display:block; position:absolute; top:1.2rem; right:1.25rem; z-index:20000; cursor:pointer; }
}


/* ----------------------------
    Menu & Search (유지)
---------------------------- */
#menu{ background:var(--sidebar-bg); padding:1.25rem 1rem; border-radius:6px; }
#menu > ul > li{ border-top:1px solid var(--line); margin:.5em 0 0; padding:.5em 0 0; }
#menu ul a, #menu ul span{ display:block; padding:.9rem .5rem; font-size:1.1em; color:#222; }
#menu ul a:hover{ color:#0b66c3; }
#sidebar #search{ background:#f5f6f7; padding:1rem; border-radius:6px; margin-bottom:1.5rem; }


/* ----------------------------
    Content Wrapper / Main (유지)
---------------------------- */
#wrapper{ display:flex; flex-direction:row-reverse; min-height:100vh; }
#main{ flex:1 1 auto; position:relative; z-index:2; width:100%; }
#main > .inner{ padding:0 2rem 3rem; margin:0 auto; max-width:110em; }
#main > .inner > section{ padding:6em 0 4em; border-top:2px solid var(--line); }
#main > .inner > section:first-of-type{ border-top:0 !important; }


/* ----------------------------
    Banner (메인 콘텐츠 레이아웃) - 필수 유지
---------------------------- */
#banner{ padding:6em 0 4em; display:flex; }
#banner .content{ flex:1 1 50%; }
#banner .image{ flex:0 0 50%; margin:0 0 2em 4em; }
#banner .image img{ width:100%; height:100%; object-fit:cover; object-position:center; }
@media (orientation:portrait){
    #banner{ flex-direction:column-reverse; }
    #banner .content{ width:100%; }
    #banner .image{ width:100%; height:25em; max-height:50vh; min-height:18em; margin:0 0 4em; }
}

/* ----------------------------
    K-Plan Form & Modal (양식, 모달 관련 스타일 유지)
---------------------------- */
/* ... (K-Plan Form 관련 스타일 유지) ... */
.kplan-shell .fields{ display:flex; flex-wrap:wrap; gap:1.25rem; }
.kplan-shell .field{ flex:1 1 46%; min-width:240px; }
.modal{ display:none; position:fixed; inset:0; z-index:11000; background:rgba(0,0,0,.7); }
/* ... (나머지 K-Plan 및 Modal 스타일 유지) ... */
